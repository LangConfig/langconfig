# =============================================================================
# LangConfig Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains sensitive credentials

# =============================================================================
# Database Configuration (PostgreSQL + pgvector)
# =============================================================================
# Main PostgreSQL database URL for LangConfig
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://langconfig:langconfig_dev@localhost:5433/langconfig

# PostgreSQL Connection Details (used by Docker Compose)
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=langconfig
POSTGRES_USER=langconfig
POSTGRES_PASSWORD=langconfig_dev

# Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# SQL Query Logging
SQL_ECHO=false
LOG_SLOW_QUERIES=true
SLOW_QUERY_THRESHOLD=1.0

# Test Database Configuration
TEST_DATABASE_URL=postgresql+asyncpg://langconfig:langconfig_dev@localhost:5433/langconfig_test

# Database Backup Configuration
BACKUP_DIR=./backups

# Redis (optional for caching)
REDIS_URL=redis://localhost:6379

# =============================================================================
# LLM API Keys
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
GOOGLE_API_KEY=your-google-api-key-here
GEMINI_API_KEY=your-google-gemini-api-key-here

# =============================================================================
# Default Model Settings
# =============================================================================
DEFAULT_LLM_PROVIDER=anthropic
DEFAULT_MODEL=claude-haiku-4-5
DEFAULT_EMBEDDING_MODEL=txt-embedding-3-small

# =============================================================================
# RAG Configuration
# =============================================================================
EMBEDDING_DIMENSION=1536
VECTOR_STORE_COLLECTION=langconfig_docs
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# =============================================================================
# MCP Server Configuration
# =============================================================================
MCP_SERVERS_CONFIG_PATH=./backend/config/mcp_servers.json

# =============================================================================
# Application Settings
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO
ENABLE_TOOL_LOGGING=true
CORS_ORIGINS=["http://localhost:1420", "tauri://localhost"]

# =============================================================================
# Frontend Configuration
# =============================================================================
# API base URL for frontend (Vite reads VITE_ prefixed vars)
VITE_API_BASE_URL=http://localhost:8765

# =============================================================================
# Security
# =============================================================================
SECRET_KEY=change-this-in-production-use-openssl-rand-hex-32
API_KEY_ENCRYPTION_KEY=change-this-in-production-use-openssl-rand-hex-32
ENABLE_SSRF_PROTECTION=true
ENABLE_MONGODB_VALIDATION=true

# =============================================================================
# Workflow Execution
# =============================================================================
MAX_WORKFLOW_TIMEOUT=300
MAX_CONCURRENT_WORKFLOWS=5
ENABLE_CHECKPOINTING=true

# =============================================================================
# DeepAgents Configuration
# =============================================================================
DEEPAGENTS_BACKEND=composite
DEEPAGENTS_STATE_BACKEND=memory
DEEPAGENTS_STORE_BACKEND=postgres
DEEPAGENTS_FILESYSTEM_SANDBOX_PATH=./sandbox

# =============================================================================
# Notification Services (optional)
# =============================================================================
# Slack Webhook URL (for Slack notification tools)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Discord Webhook URL (for Discord notification tools)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL

# =============================================================================
# External Database Connections (for database tools)
# =============================================================================
# PostgreSQL Connection String
POSTGRES_CONNECTION_STRING=postgresql://user:password@localhost:5432/mydb

# MySQL Connection String
MYSQL_CONNECTION_STRING=mysql://user:password@localhost:3306/mydb

# MongoDB Connection String
MONGODB_CONNECTION_STRING=mongodb://localhost:27017/mydb

# =============================================================================
# WordPress CMS API Credentials (optional)
# =============================================================================
WORDPRESS_SITE_URL=https://your-wordpress-site.com
WORDPRESS_USERNAME=your-wordpress-username
WORDPRESS_APP_PASSWORD=your-application-password

# =============================================================================
# Custom API Tool Authentication (optional)
# =============================================================================
CUSTOM_API_KEY=your-custom-api-key
CUSTOM_API_BEARER_TOKEN=your-bearer-token

# =============================================================================
# Tool Configuration
# =============================================================================
API_REQUEST_TIMEOUT=30
DB_QUERY_TIMEOUT=30

# =============================================================================
# Performance Monitoring
# =============================================================================
PERFORMANCE_MONITORING_ENABLED=true
SLOW_REQUEST_THRESHOLD_MS=1000
LOG_ALL_REQUESTS=false
ENABLE_SCHEMA_CACHING=true
SCHEMA_CACHE_MAX_SIZE=100

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_CLEANUP_INTERVAL=300

# =============================================================================
# Git Integration (optional)
# =============================================================================
GITHUB_PAT=your_github_personal_access_token_here
GITLAB_PAT=your_gitlab_personal_access_token_here

# =============================================================================
# Google OAuth (for Presentation Generator - Google Slides export)
# =============================================================================
# To set up Google OAuth:
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project or select existing
# 3. Enable "Google Slides API" and "Google Drive API"
# 4. Go to "APIs & Services" > "Credentials"
# 5. Create OAuth 2.0 Client ID (Web application type)
# 6. Add authorized redirect URI: http://localhost:8765/api/auth/google/callback
# 7. Copy Client ID and Client Secret below
#
# See docs/GOOGLE_OAUTH_SETUP.md for detailed instructions
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8765/api/auth/google/callback

# =============================================================================
# Local LLM Host (optional)
# =============================================================================
LOCAL_LLM_HOST=http://localhost:11434

# =============================================================================
# Execution History Configuration
# =============================================================================
MAX_EXECUTION_HISTORY_PER_WORKFLOW=100
EXECUTION_HISTORY_RETENTION_DAYS=90
AUTO_CLEANUP_EXECUTION_HISTORY=true
